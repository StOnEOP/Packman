<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa2</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Andr&#233; Silva<br />Jo&#227;o Nunes</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa2</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Realiza&#231;&#227;o da jogada</a></li><li><a href="#g:2">Fun&#231;&#245;es auxiliares  </a></li><li><a href="#g:3">Mudan&#231;a de estados dos <em>Ghosts</em></a></li><li><a href="#g:4">Movimenta&#231;&#227;o de <em>Pacman</em> ou <em>Ghost</em></a></li><li><a href="#g:5">Fun&#231;&#245;es que correspondem ao labirinto   </a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>O objetivo deste m&#243;dulo &#233; a <strong>realiza&#231;&#227;o de uma jogada</strong>, consoante a orienta&#231;&#227;o dessa mesma e principalmente o estado do jogo.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:play">play</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:findPlayerState">findPlayerState</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:PlayerState" title="Types">PlayerState</a></li><li class="src short"><a href="#v:findPlayer">findPlayer</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:findPlayerAUX">findPlayerAUX</a> :: Int -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:findPacmanPlayer">findPacmanPlayer</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:changePS">changePS</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:mazePIc">mazePIc</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; Int</li><li class="src short"><a href="#v:mazePIa">mazePIa</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; Int</li><li class="src short"><a href="#v:houseExit">houseExit</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></li><li class="src short"><a href="#v:mainGhost">mainGhost</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; Int -&gt; Int -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:changeGhostState">changeGhostState</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; Int -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:changeGhostStateALL">changeGhostStateALL</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:changeGhostStateAUX">changeGhostStateAUX</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; Int -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:middleCoordMaze">middleCoordMaze</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></li><li class="src short"><a href="#v:heightMaze">heightMaze</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; Int</li><li class="src short"><a href="#v:lengthMaze">lengthMaze</a> :: <a href="Types.html#t:Corridor" title="Types">Corridor</a> -&gt; Int</li><li class="src short"><a href="#v:checkPacmanTM">checkPacmanTM</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:ghostTo">ghostTo</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; Int -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:ghostToAUX">ghostToAUX</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; Int -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:mainMove">mainMove</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:nextCoord">nextCoord</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:nextMazeCoord">nextMazeCoord</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:mazeShowX">mazeShowX</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Piece" title="Types">Piece</a></li><li class="src short"><a href="#v:mazeShowY">mazeShowY</a> :: <a href="Types.html#t:Corridor" title="Types">Corridor</a> -&gt; Int -&gt; <a href="Types.html#t:Piece" title="Types">Piece</a></li><li class="src short"><a href="#v:mazeShowT">mazeShowT</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; Bool</li><li class="src short"><a href="#v:mazeTunnel">mazeTunnel</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; Int -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:mazeGhost">mazeGhost</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; Int -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:mazeEatPacman">mazeEatPacman</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:lifeChanger">lifeChanger</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; Int -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:changeMouth">changeMouth</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:changeMegaTM">changeMegaTM</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:getGhosts">getGhosts</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:getPacman">getPacman</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:getGhostMode">getGhostMode</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:GhostMode" title="Types">GhostMode</a></li><li class="src short"><a href="#v:foodToEmpty">foodToEmpty</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a></li><li class="src short"><a href="#v:isThereFood">isThereFood</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; Bool</li><li class="src short"><a href="#v:isThereFoodAUX">isThereFoodAUX</a> :: <a href="Types.html#t:Corridor" title="Types">Corridor</a> -&gt; Bool</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Realiza&#231;&#227;o da jogada</h1></a><div class="top"><p class="src"><a id="v:play" class="def">play</a> <a href="#v:play" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Play" title="Types">Play</a></td><td class="doc"><p>Jogada pretendida</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Estado inicial</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Estado final</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o principal que realiza a jogada pretendida.</p></div></div><a href="#g:2" id="g:2"><h1>Fun&#231;&#245;es auxiliares  </h1></a><div class="top"><p class="src"><a id="v:findPlayerState" class="def">findPlayerState</a> <a href="#v:findPlayerState" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Estado</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>ID do jogador que queremos</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:PlayerState" title="Types">PlayerState</a></td><td class="doc"><p>Estado do jogador certo</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que indica qual &#233; o estado do jogador que queremos mover.</p></div></div><div class="top"><p class="src"><a id="v:findPlayer" class="def">findPlayer</a> <a href="#v:findPlayer" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Estado</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>ID do jogador que queremos</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Jogador pretendido</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que retorna o jogador pretendido.</p></div></div><div class="top"><p class="src"><a id="v:findPlayerAUX" class="def">findPlayerAUX</a> <a href="#v:findPlayerAUX" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>ID do jogador que queremos</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Lista de todos os jogadores</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Jogador pretendido</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o auxiliar que encontra o jogador que queremos mover.</p></div></div><div class="top"><p class="src"><a id="v:findPacmanPlayer" class="def">findPacmanPlayer</a> <a href="#v:findPacmanPlayer" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Lista de todos os jogadores</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Jogador <em>Pacman</em></p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que encontra o <em>Pacman</em>.</p></div></div><div class="top"><p class="src"><a id="v:changePS" class="def">changePS</a> <a href="#v:changePS" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Lista de todos os jogadores</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Jogador novo</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Lista de todos os jogadores com o novo jogador j&#225; inserido</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que altera a lista de jogadores de modo a inserir o jogador que foi alterado.</p></div></div><div class="top"><p class="src"><a id="v:mazePIc" class="def">mazePIc</a> <a href="#v:mazePIc" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Maze" title="Types">Maze</a></td><td class="doc"><p>Labirinto</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Vari&#225;vel auxiliar</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que verifica se o comprimento do labirinto &#233; par ou &#237;mpar, devolve um inteiro.</p><ul><li>0, par</li><li>1, &#237;mpar</li></ul></div></div><div class="top"><p class="src"><a id="v:mazePIa" class="def">mazePIa</a> <a href="#v:mazePIa" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Maze" title="Types">Maze</a></td><td class="doc"><p>Labirinto</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Vari&#225;vel auxiliar</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que verifica se a altura do labirinto &#233; par ou &#237;mpar, devolve um inteiro.</p><ul><li>0, par</li><li>1, &#237;mpar</li></ul></div></div><div class="top"><p class="src"><a id="v:houseExit" class="def">houseExit</a> <a href="#v:houseExit" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Maze" title="Types">Maze</a></td><td class="doc"><p>Labirinto</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></td><td class="doc"><p>Coordenada inicial da Casa dos <em>Ghosts</em></p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></td><td class="doc"><p>Coordenada da sa&#237;da</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que descobre a coordenada da sa&#237;da da Casa dos <em>Ghosts</em>.</p></div></div><a href="#g:3" id="g:3"><h1>Mudan&#231;a de estados dos <em>Ghosts</em></h1></a><div class="top"><p class="src"><a id="v:mainGhost" class="def">mainGhost</a> <a href="#v:mainGhost" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Jogador novo</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Pontua&#231;&#227;o anterior</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Pontua&#231;&#227;o nova</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Estado novo</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></td><td class="doc"><p>Coordenadas do jogador</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Estado com a altera&#231;&#227;o dos estados dos <em>Ghosts</em></p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que chama as respetivas fun&#231;&#245;es dependendo das seguintes situa&#231;&#245;es:</p><ul><li>diferen&#231;a entre a pontua&#231;&#227;o anterior e a nova == 5 que significa que o jogador comeu um <em>Food Big</em></li><li>diferen&#231;a entre a pontua&#231;&#227;o anterior e a nova == 11 || == 10 que significa que o jogador comeu um <em>Ghost</em> e um <em>Food Little</em> ou apenas um <em>Ghost</em></li><li>diferen&#231;a entre a pontua&#231;&#227;o anterior e a nova &gt;= 15 que significa todos os outros casos poss&#237;veis, que v&#227;o ser analisados na respetiva fun&#231;&#227;o</li></ul></div></div><div class="top"><p class="src"><a id="v:changeGhostState" class="def">changeGhostState</a> <a href="#v:changeGhostState" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Jogador</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Maze" title="Types">Maze</a></td><td class="doc"><p>Labirinto</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Lista de todos os jogadores</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></td><td class="doc"><p>Coordenada do jogador</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Var&#237;avel recebida</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Lista de jogadores com os <em>Ghosts</em> alterados</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que chama as respetivas fun&#231;&#245;es dependendo da situa&#231;&#227;o do <em>Ghost</em> e da vari&#225;vel recebida.</p></div></div><div class="top"><p class="src"><a id="v:changeGhostStateALL" class="def">changeGhostStateALL</a> <a href="#v:changeGhostStateALL" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>&#308;ogador</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Maze" title="Types">Maze</a></td><td class="doc"><p>Labirinto</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Lista de todos os jogadores</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></td><td class="doc"><p>Coordenada do jogador</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Lista de jogadores com os <em>Ghosts</em> alterados</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que altera o estado de todos os <em>Ghosts</em> consoante, as v&#225;rias condi&#231;&#245;es propostas:</p><ul><li>se <em>Ghost</em> est&#225; na posi&#231;&#227;o certa e se jogador est&#225; em modo MEGA ou NORMAL</li><li>se jogador est&#225; em modo MEGA apenas</li></ul></div></div><div class="top"><p class="src"><a id="v:changeGhostStateAUX" class="def">changeGhostStateAUX</a> <a href="#v:changeGhostStateAUX" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Maze" title="Types">Maze</a></td><td class="doc"><p>Labirinto</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p><em>Ghost</em> pretendido</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Vari&#225;vel recebida</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p><em>Ghost</em> novo</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que altera o estado de um &#250;nico <em>Ghost</em>, consoante a vari&#225;vel recebida.</p></div></div><div class="top"><p class="src"><a id="v:middleCoordMaze" class="def">middleCoordMaze</a> <a href="#v:middleCoordMaze" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Maze" title="Types">Maze</a></td><td class="doc"><p>Labirinto</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></td><td class="doc"><p>Coordenadas do meio do labirinto</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que encontra as coordenadas, na casa dos fantasmas, para a qual o <em>Ghost</em> se move quando morre.</p></div></div><div class="top"><p class="src"><a id="v:heightMaze" class="def">heightMaze</a> <a href="#v:heightMaze" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Maze" title="Types">Maze</a></td><td class="doc"><p>Labirinto</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Altura do labirinto</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que determina a altura do labirinto.</p></div></div><div class="top"><p class="src"><a id="v:lengthMaze" class="def">lengthMaze</a> <a href="#v:lengthMaze" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Corridor" title="Types">Corridor</a></td><td class="doc"><p>Corredor</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Largura do labirinto</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que determina a largura do labirinto.</p></div></div><div class="top"><p class="src"><a id="v:checkPacmanTM" class="def">checkPacmanTM</a> <a href="#v:checkPacmanTM" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Jogador</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Lista de todos os jogadores</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Lista de todos os jogadores com, possivelmente, os estados alterados</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que verifica se o modo do pacman se encontra em Mega. Chama, depois, a fun&#231;&#227;o pretendida dependendo do resultado.</p></div></div><div class="top"><p class="src"><a id="v:ghostTo" class="def">ghostTo</a> <a href="#v:ghostTo" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Lista de todos os jogadores</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Vari&#225;vel que decide o estado desejado</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Lista de todos os jogadores j&#225; com os estados alterados</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que muda todos os <em>Ghosts</em> para o estado desejado.</p></div></div><div class="top"><p class="src"><a id="v:ghostToAUX" class="def">ghostToAUX</a> <a href="#v:ghostToAUX" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p><em>Ghost</em></p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Vari&#225;vel que decide o estado desejado</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p><em>Ghost</em> novo</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que muda um <em>Ghost</em> para o estado desejado dependendo da vari&#225;vel escolhida:</p><ul><li>1: ghostToDead</li><li>2: ghostToAlive</li></ul></div></div><a href="#g:4" id="g:4"><h1>Movimenta&#231;&#227;o de <em>Pacman</em> ou <em>Ghost</em></h1></a><div class="top"><p class="src"><a id="v:mainMove" class="def">mainMove</a> <a href="#v:mainMove" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Lista de todos os jogadores</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Maze" title="Types">Maze</a></td><td class="doc"><p>Labirinto</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Jogador</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a></td><td class="doc"><p>Orienta&#231;&#227;o da jogada</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Jogador com o seu estado atualizado</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que testa se o jogador est&#225; em modo <em>Dying</em> e se a orienta&#231;&#227;o da jogada pretendida &#233; igual &#224; sua orienta&#231;&#227;o. Chama, depois, as respetivas fun&#231;&#245;es.</p></div></div><div class="top"><p class="src"><a id="v:nextCoord" class="def">nextCoord</a> <a href="#v:nextCoord" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Lista de todos os jogadores</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Jogador</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Maze" title="Types">Maze</a></td><td class="doc"><p>Labirinto</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Jogador com o seu estado atualizado</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que determina a coordenada para a qual o jogador se quer mover. Chama, tamb&#233;m, a fun&#231;&#227;o certa quando essa mesma coordenada.
 Passamos as coordenadas para coordenadas de labirinto, ou seja, incrementamos 1 em cada uma das coordenadas do tuplo.</p></div></div><div class="top"><p class="src"><a id="v:nextMazeCoord" class="def">nextMazeCoord</a> <a href="#v:nextMazeCoord" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Lista de todos os jogadores</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Jogador</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Maze" title="Types">Maze</a></td><td class="doc"><p>Labirinto</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></td><td class="doc"><p>Coordenadas da jogada</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Jogador com o seu estado atualizado</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que atualiza o estado do jogador para todas as seguintes situa&#231;&#245;es:</p><ul><li>Se a coordenada pretendida tiver um <em>Food Little</em> ou <em>Food Big</em> ou <em>Empty</em> ent&#227;o vai chamar a fun&#231;&#227;o para verificar a situa&#231;&#227;o dos <em>Ghosts</em> nessa mesma coordenada</li><li>Se a coordenada pretendida tiver na posi&#231;&#227;o de um t&#250;nel, vai chamar a fun&#231;&#227;o respetiva</li></ul></div></div><div class="top"><p class="src"><a id="v:mazeShowX" class="def">mazeShowX</a> <a href="#v:mazeShowX" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Maze" title="Types">Maze</a></td><td class="doc"><p>Labirinto</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></td><td class="doc"><p>Coordenada da pe&#231;a pretendida</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Piece" title="Types">Piece</a></td><td class="doc"><p>Pe&#231;a pretendida</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que percorre os corredores do labirinto at&#233; chegar ao corredor certo da coordenada pretendida. Chama, depois, a fun&#231;&#227;o que acaba a determina&#231;&#227;o desta pe&#231;a.</p></div></div><div class="top"><p class="src"><a id="v:mazeShowY" class="def">mazeShowY</a> <a href="#v:mazeShowY" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Corridor" title="Types">Corridor</a></td><td class="doc"><p>Corredor certo</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Largura restante at&#233; &#224; coordenada</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Piece" title="Types">Piece</a></td><td class="doc"><p>Pe&#231;a pretendida</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que determina a pe&#231;a presente numa certa coordenada.</p></div></div><div class="top"><p class="src"><a id="v:mazeShowT" class="def">mazeShowT</a> <a href="#v:mazeShowT" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Maze" title="Types">Maze</a></td><td class="doc"><p>Labirinto</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></td><td class="doc"><p>Coordenadas da jogada</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>Booleano pretendido</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que testa se as coordenadas que nos queremos mover se encontram num t&#250;nel.</p></div></div><div class="top"><p class="src"><a id="v:mazeTunnel" class="def">mazeTunnel</a> <a href="#v:mazeTunnel" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Lista de todos os jogadores</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Jogador</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Maze" title="Types">Maze</a></td><td class="doc"><p>Labirinto</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></td><td class="doc"><p>Coordenadas da jogada</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Pontua&#231;&#227;o acrescentar</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Jogador com o seu estado atualizado</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que determina a nova coordenada do jogador quando queremos passar o t&#250;nel. Chama, depois, a fun&#231;&#227;o para verificar a situa&#231;&#227;o dos <em>Ghosts</em> nessa mesma coordenada.</p></div></div><div class="top"><p class="src"><a id="v:mazeGhost" class="def">mazeGhost</a> <a href="#v:mazeGhost" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Jogador</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></td><td class="doc"><p>Coordenada pretendida</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Lista de todos os <em>Ghost</em></p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Pontua&#231;&#227;o</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Jogador</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que testa se existe um <em>Ghost</em> nas coordenadas que o jogador se quer mover. Se sim, age conforme os modos do jogador e do <em>Ghost</em>:</p><ul><li>Se em modo MEGA e o <em>Ghost</em> em <em>Dead</em> ent&#227;o incrementamos 10 na pontua&#231;&#227;o</li><li>Se em modo MEGA ou NORMAL e o <em>Ghost</em> em <em>Alive</em> ent&#227;o a fun&#231;&#227;o que verifica as vidas do jogador &#233; chamada</li></ul></div></div><div class="top"><p class="src"><a id="v:mazeEatPacman" class="def">mazeEatPacman</a> <a href="#v:mazeEatPacman" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Jogador <em>Pacman</em> anterior</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Jogador <em>Pacman</em> novo</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Jogador <em>Ghost</em> anterior</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Jogador <em>Ghost</em> novo</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Jogador <em>Pacman</em></p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que modifica o jogador dependendo da posi&#231;&#227;o do fantasma. Fun&#231;&#227;o s&#243; chamada quando a jogada &#233; feita por um fantasma.</p></div></div><div class="top"><p class="src"><a id="v:lifeChanger" class="def">lifeChanger</a> <a href="#v:lifeChanger" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Jogador</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Vari&#225;vel auxiliar</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Jogador com o estado novo</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que altera o modo do jogador para <em>Dying</em> caso n&#227;o tenha mais nenhuma vida.</p></div></div><div class="top"><p class="src"><a id="v:changeMouth" class="def">changeMouth</a> <a href="#v:changeMouth" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Jogador</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Jogador com boca alterada</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que muda a boca do pacman</p></div></div><div class="top"><p class="src"><a id="v:changeMegaTM" class="def">changeMegaTM</a> <a href="#v:changeMegaTM" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Jogador</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Jogador com tempo mega alterado</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que diminui o tempo mega em 250ms</p></div></div><div class="top"><p class="src"><a id="v:getGhosts" class="def">getGhosts</a> <a href="#v:getGhosts" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Lista de todos os jogadores</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Lista de todos os <em>Ghosts</em></p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que determina a lista de todos os <em>Ghosts</em>.</p></div></div><div class="top"><p class="src"><a id="v:getPacman" class="def">getPacman</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:getPacman" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getGhostMode" class="def">getGhostMode</a> <a href="#v:getGhostMode" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p><em>Ghost</em></p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:GhostMode" title="Types">GhostMode</a></td><td class="doc"><p>Modo do <em>Ghost</em></p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que determina o modo em que um <em>Ghost</em> est&#225;.</p></div></div><a href="#g:5" id="g:5"><h1>Fun&#231;&#245;es que correspondem ao labirinto   </h1></a><div class="top"><p class="src"><a id="v:foodToEmpty" class="def">foodToEmpty</a> <a href="#v:foodToEmpty" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Maze" title="Types">Maze</a></td><td class="doc"><p>Labirinto</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Jogador</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></td><td class="doc"><p>Coordenadas pretendidas</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Maze" title="Types">Maze</a></td><td class="doc"><p>Labirinto com a coordenada alterada</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que altera no labirinto a comida que o <em>Pacman</em> comeu por <em>Empty</em>.</p></div></div><div class="top"><p class="src"><a id="v:isThereFood" class="def">isThereFood</a> <a href="#v:isThereFood" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Maze" title="Types">Maze</a></td><td class="doc"><p>Labirinto</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>Booleano pretendido</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que invoca a fun&#231;&#227;o pretendida para percorrer o labirinto, corredor a corredor.</p></div></div><div class="top"><p class="src"><a id="v:isThereFoodAUX" class="def">isThereFoodAUX</a> <a href="#v:isThereFoodAUX" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Corridor" title="Types">Corridor</a></td><td class="doc"><p>Corredor do labirinto</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>Booleano pretendido</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que percorre o corredor pretendido para verificar se tem alguma comida no labirinto.</p><ul><li><em>True</em> significa que tem comida no labirinto</li><li><em>False</em> significa que n&#227;o tem nenhuma comida no labirinto</li></ul></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>